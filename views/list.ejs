<%- include("header") -%>



    <div class="box" id="heading">
        <h1>
            <%= listTitle %>
        </h1>
    </div>

    <div class="box">

        <!-- tap into items array, get access to each item, which is a document, and display name only -->
       <% items.forEach(function(item){ %>

            <form action="/delete" method="post">
                <div class="item">  

                    <input name="checkbx" type="checkbox" value="<%=item._id%>" onchange="this.form.submit()">
                    <!-- the job of value="<%=item._id%>" is to get the mongodb-generated id of the item that is being checked off, so we can delete the document with that id -->

                    <p><%= item.name %></p>
                    
                </div>
                <input type="hidden" name="hiddenListName" value="<%=listTitle%>"></input>
            </form>
            
        <% }) %>


        <form class="item" action="/" method="post">
            <input type="text" name="addItem" placeholder="What to do?" autocomplete="off">
            <button class="addbutton" type="submit" name="list" value="<%=listTitle%>">+</button>
        </form>

    </div>


    <div class="box">
        <form class="item" action="/createCustomList" method="post">
            <input type="text" name="addItem1" placeholder="Type title of your own new list" autocomplete="off">
            <button class="gobutton" type="submit" name="list" value=<%= listTitle %>>Go</button>
            
            
        </form>
    </div>
     


<%- include("footer") -%>

